(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-698967ca"],{"19ea":function(t,e,r){"use strict";var a=r("8ab3"),i=r.n(a);i.a},"8ab3":function(t,e,r){},e4c8:function(t,e,r){"use strict";r.r(e);var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"wapper",attrs:{"dis-hover":""}},[r("Row",{staticClass:"wapper"},[r("i-col",{attrs:{xs:{span:24},sm:{span:24},md:{span:12},lg:{span:12}}},[r("Row",[r("i-col",{attrs:{xs:{span:12},sm:{span:12},md:{span:12},lg:{span:12}}},[r("h3",[t._v(t._s(t.params.exchange))])]),r("i-col",{staticStyle:{"text-align":"right"},attrs:{xs:{span:12},sm:{span:12},md:{span:12},lg:{span:12}}},[r("Button",{attrs:{type:"primary"},on:{click:function(e){return t.$router.push("/exc_setting")}}},[t._v("返回")])],1)],1)],1)],1),r("br"),r("Row",[r("i-col",{attrs:{xs:{span:24},sm:{span:24},md:{span:12},lg:{span:12}}},[r("Form",{ref:"exchaneForm",attrs:{"label-width":80,model:t.form,rules:t.rules}},[r("FormItem",{attrs:{label:"账户备注"}},[r("i-input",{model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),r("FormItem",{staticStyle:{"padding-button":"0","margin-bottom":"0px"},attrs:{label:t.params.key1_name}},[r("div",{staticStyle:{display:"flex"}},[r("i-input",{model:{value:t.form.api_id,callback:function(e){t.$set(t.form,"api_id",e)},expression:"form.api_id"}})],1)]),r("FormItem",{staticStyle:{height:"20px","line-height":"20px",padding:"0","margin-bottom":"20px"}},[r("a",{staticStyle:{"text-align":"right"},attrs:{target:"_blank",href:t.params.get_key_url}},[t._v("如何获取key")])]),r("FormItem",{staticStyle:{"padding-button":"0","margin-bottom":"0px"},attrs:{label:t.params.key2_name}},[r("i-input",{model:{value:t.form.secret_id,callback:function(e){t.$set(t.form,"secret_id",e)},expression:"form.secret_id"}})],1),r("FormItem",{staticStyle:{height:"20px","line-height":"20px",padding:"0","margin-bottom":"20px"}},[r("span",[t._v(t._s(t.params.key2_name)+"仅显示一次")])]),r("FormItem",{directives:[{name:"show",rawName:"v-show",value:t.params.key3_name,expression:"params.key3_name"}],staticStyle:{"padding-button":"0","margin-bottom":"0px"},attrs:{label:t.params.key3_name}},[r("i-input",{model:{value:t.form.key3,callback:function(e){t.$set(t.form,"key3",e)},expression:"form.key3"}})],1),r("FormItem",{staticStyle:{height:"20px","line-height":"20px",padding:"0","margin-bottom":"20px"}},[r("RadioGroup",{directives:[{name:"show",rawName:"v-show",value:t.params.t_type_list,expression:"params.t_type_list"}],model:{value:t.form.t_type,callback:function(e){t.$set(t.form,"t_type",e)},expression:"form.t_type"}},t._l(t.params.t_type_list,function(t,e){return r("Radio",{key:e,staticStyle:{background:"none"},attrs:{label:t.t_text}})}),1)],1),r("FormItem",{attrs:{label:"简称"}},[r("i-input",{attrs:{disabled:"",value:t.params.default_brief}})],1),r("FormItem",{attrs:{label:"分单限额",prop:"ord_num"}},[r("div",{staticClass:"form-item"},[r("i-input",{staticClass:"form-item-input",attrs:{min:50},model:{value:t.form.ord_num,callback:function(e){t.$set(t.form,"ord_num",e)},expression:"form.ord_num"}}),r("span",{staticClass:"form-item-tips"},[t._v("USDT")])],1)]),r("FormItem",{attrs:{label:"分单间隔",prop:"ord_int"}},[r("div",{staticClass:"form-item"},[r("i-input",{staticClass:"form-item-input",attrs:{min:"Huobi"===t.$route.query.exchange?1:2},model:{value:t.form.ord_int,callback:function(e){t.$set(t.form,"ord_int",e)},expression:"form.ord_int"}}),r("span",{staticClass:"form-item-tips"},[t._v("秒")])],1)]),r("FormItem",[r("Button",{attrs:{type:"primary",long:""},on:{click:t.handleInster}},[t._v("\n            "+t._s(t.params.isUpdate?"保存":"添加账户")+"\n          ")])],1)],1),r("br")],1)],1)],1)},i=[],s=r("9ab4"),n=r("2b0e"),o=r("f129"),m=n["default"].extend({data:function(){var t=this;return{params:"",froms:[],form:{name:"",api_id:"",secret_id:"",t_type:"",key3:"",ord_num:500,ord_int:2},rules:{ord_num:[{validator:function(t,e,r){if(Number(e)||0===Number(e)){var a=50,i=Number(e)>=a;i?r():r(new Error("分单限额最小为"+a))}else r(new Error("请输入数字"))},trigger:"blur"}],ord_int:[{validator:function(e,r,a){if(Number(r)||0===Number(r)){var i="Huobi"===t.$route.query.exchange?1:2,s=Number(r)>=i;s?a():a(new Error("分单间隔最小为"+i))}else a(new Error("请输入数字"))},trigger:"blur"}]}}},methods:{handleInster:function(){return s["b"](this,void 0,void 0,function(){var t=this;return s["e"](this,function(e){return this.$refs.exchaneForm.validate(function(e){return s["b"](t,void 0,void 0,function(){var t,r,a,i,n,m,p;return s["e"](this,function(s){switch(s.label){case 0:return e?(t=this.params.isUpdate?this.params.account:"",r=this.form.t_type,a=this.params.t_type_list.find(function(t){return t.t_text===r}),i={acct_desc:this.form.name,exchange:this.params.exchange,brief:this.params.default_brief,key1:this.form.api_id,key2:this.form.secret_id,key3:this.form.key3||"",account:t,ord_num:Number(this.form.ord_num),ord_int:Number(this.form.ord_int),t_type:a.t_type},[4,Object(o["h"])(i)]):[3,2];case 1:n=s.sent(),m=n.error_num,p=n.msg,0===m?(this.$Notice.success({title:p}),this.$router.push("/exc_setting")):this.$Notice.error({title:p}),s.label=2;case 2:return[2]}})})}),[2]})})}},mounted:function(){var t=this.$route.query;for(var e in this.params=t,this.params)e.indexOf("key")||""===this.params[e]||this.froms.push(this.params[e]);if(this.form.t_type=this.params.t_type_list[0].t_text,t.isUpdate){this.form.name=t.acct_desc,this.form.api_id=t.key1,this.form.secret_id="***",t.default_brief=t.brief,this.form.ord_num=Number(t.ord_num),this.form.ord_int=Number(t.ord_int),this.form.key3=t.key3;var r=t.t_type_list.find(function(e){return e.t_text===t.t_text});this.form.t_type=r.t_text}}}),p=m,l=(r("19ea"),r("2877")),u=Object(l["a"])(p,a,i,!1,null,"75080a34",null);e["default"]=u.exports}}]);